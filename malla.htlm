<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Malla Curricular - Carrera de Actuario</title>
<style>
    body {
        font-family: "Segoe UI", sans-serif;
        background: #f7f9fc;
        margin: 0;
        padding: 20px;
        color: #333;
    }

    h1 {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 30px;
    }

    .grid {
        display: flex;
        gap: 20px;
        justify-content: center;
    }

    .column {
        background: white;
        padding: 15px;
        width: 260px;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .column h2 {
        text-align: center;
        margin-bottom: 15px;
        color: #34495e;
    }

    .course {
        background: #ecf0f1;
        padding: 10px;
        margin-bottom: 10px;
        border-radius: 6px;
        cursor: pointer;
        position: relative;
        transition: 0.2s;
    }

    .course.completed {
        background: #b2f2bb;
        text-decoration: line-through;
    }

    .course.locked {
        background: #dfe6e9;
        cursor: not-allowed;
        opacity: 0.6;
    }

    .tooltip {
        display: none;
        position: absolute;
        background: #2d3436;
        color: white;
        padding: 5px 8px;
        font-size: 12px;
        border-radius: 4px;
        top: 50%;
        left: 105%;
        transform: translateY(-50%);
        white-space: nowrap;
        z-index: 10;
    }

    .course.locked:hover .tooltip {
        display: block;
    }
</style>
</head>
<body>

<h1>Malla Curricular – Carrera de Actuario</h1>

<div class="grid">

    <!-- CBC -->
    <div class="column">
        <h2>CBC</h2>

        <div class="course" data-id="algebra">Álgebra</div>
        <div class="course" data-id="analisis1">Análisis Matemático I</div>
        <div class="course" data-id="economia">Economía</div>
        <div class="course" data-id="historia">Historia Económica y Social General</div>
        <div class="course" data-id="sociologia">Sociología</div>
        <div class="course" data-id="metodologia">Metodología de las Ciencias Sociales</div>
    </div>

    <!-- Primer Año -->
    <div class="column">
        <h2>Primer Año</h2>

        <div class="course" data-id="estadistico1" data-req="algebra,analisis1,economia,historia,sociologia,metodologia">
            Análisis Estadístico
            <span class="tooltip"></span>
        </div>

        <div class="course" data-id="mataplicada" data-req="algebra,analisis1,economia,historia,sociologia,metodologia">
            Matemática Aplicada
            <span class="tooltip"></span>
        </div>

        <div class="course" data-id="macro1" data-req="algebra,analisis1,economia,historia,sociologia,metodologia">
            Macroeconomía I
            <span class="tooltip"></span>
        </div>

        <div class="course" data-id="sistemas" data-req="algebra,analisis1,economia,historia,sociologia,metodologia">
            Sistemas Administrativos
            <span class="tooltip"></span>
        </div>

        <div class="course" data-id="derecho" data-req="algebra,analisis1,economia,historia,sociologia,metodologia">
            Derecho Empresarial
            <span class="tooltip"></span>
        </div>

    </div>

</div>

<script>
    const courses = document.querySelectorAll(".course");

    // Cargar progreso desde localStorage
    let progress = JSON.parse(localStorage.getItem("progresoActuario")) || {};

    // Marcar cursos completados al cargar
    courses.forEach(c => {
        const id = c.dataset.id;
        if (progress[id]) c.classList.add("completed");
    });

    function saveProgress() {
        localStorage.setItem("progresoActuario", JSON.stringify(progress));
    }

    function checkLocks() {
        courses.forEach(c => {
            const reqs = c.dataset.req ? c.dataset.req.split(",") : [];
            const tooltip = c.querySelector(".tooltip");

            if (reqs.length === 0) return;

            const faltantes = reqs.filter(r => !progress[r]);

            if (faltantes.length > 0) {
                c.classList.add("locked");
                tooltip.textContent = "Falta: " + faltantes.join(", ");
            } else {
                c.classList.remove("locked");
                tooltip.textContent = "";
            }
        });
    }

    checkLocks();

    // Interacciones
    courses.forEach(c => {
        c.addEventListener("click", () => {
            if (c.classList.contains("locked")) return;

            const id = c.dataset.id;

            if (c.classList.contains("completed")) {
                c.classList.remove("completed");
                progress[id] = false;
            } else {
                c.classList.add("completed");
                progress[id] = true;
            }

            saveProgress();
            checkLocks();
        });
    });
</script>

</body>
</html>
